<!DOCTYPE html>
<html lang="it">
<head>
  <%- include('partials/head', { title: 'Registrazione' }) %>
</head>
<body class="font-body text-ink">
  <div class="min-h-screen flex items-center justify-center p-4">
    <div class="parchment-bg rounded-lg p-8 max-w-md w-full shadow-2xl">
      <div class="text-center mb-8">
        <h1 class="font-title text-3xl text-ink mb-2">Registrazione</h1>
        <p class="text-ink/60">Unisciti alle Cronache del Destino</p>
      </div>
      
      <% if (error) { %>
        <div class="bg-blood/10 border border-blood text-blood px-4 py-3 rounded mb-6">
          <%= error %>
        </div>
      <% } %>
      
      <form method="POST" action="/register" class="space-y-5">
        <div>
          <label class="block font-title text-sm mb-2" for="invite_code">Codice Invito</label>
          <input type="text" id="invite_code" name="invite_code" required
                 value="<%= inviteCode || '' %>"
                 class="w-full px-4 py-3 border-2 border-ink/20 rounded bg-white/50 focus:border-gold focus:outline-none transition-colors font-mono"
                 placeholder="Il codice segreto ricevuto">
        </div>
        
        <div>
          <label class="block font-title text-sm mb-2" for="username">Username</label>
          <input type="text" id="username" name="username" required minlength="3" maxlength="30"
                 class="w-full px-4 py-3 border-2 border-ink/20 rounded bg-white/50 focus:border-gold focus:outline-none transition-colors"
                 placeholder="Scegli il tuo nome">
        </div>
        
        <div>
          <label class="block font-title text-sm mb-2" for="password">Password</label>
          <input type="password" id="password" name="password" required minlength="6"
                 class="w-full px-4 py-3 border-2 border-ink/20 rounded bg-white/50 focus:border-gold focus:outline-none transition-colors"
                 placeholder="Almeno 6 caratteri">
        </div>
        
        <div>
          <label class="block font-title text-sm mb-2" for="password_confirm">Conferma Password</label>
          <input type="password" id="password_confirm" name="password_confirm" required
                 class="w-full px-4 py-3 border-2 border-ink/20 rounded bg-white/50 focus:border-gold focus:outline-none transition-colors"
                 placeholder="Ripeti la password">
        </div>
        
        <button type="submit" 
                class="w-full py-3 px-6 bg-midnight text-gold font-title text-lg rounded hover:bg-midnight/90 transition-colors">
          Inizia l'Avventura
        </button>
      </form>
      
      <div class="mt-6 text-center">
        <p class="text-ink/60">
          Hai già un account? 
          <a href="/login" class="text-gold hover:underline">Accedi</a>
        </p>
      </div>
      
      <div class="mt-4 text-center">
        <a href="/" class="text-ink/40 hover:text-ink/60 text-sm">← Torna alla home</a>
      </div>
    </div>
  </div>
</body>
</html>
